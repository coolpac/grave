# Production Environment Variables Template
# Copy this file to .env.production and fill in your values

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_DB=ritual_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_PORT=5432

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD
REDIS_PORT=6379

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
API_PORT=3000
APP_VERSION=1.0.0

# ============================================
# JWT CONFIGURATION
# ============================================
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_MINIMUM_32_CHARACTERS_LONG_SECRET_KEY
JWT_EXPIRES_IN=7d

# ============================================
# TELEGRAM CONFIGURATION
# ============================================
# ВАЖНО: Не меняйте эти значения если они уже настроены на сервере!
# Токены ботов - получить у @BotFather
# Если используете один бот - укажите BOT_TOKEN, он будет использован для Customer Bot
BOT_TOKEN=${BOT_TOKEN:-}

# Telegram ID администратора для получения уведомлений
# Получить у @userinfobot или @getmyid_bot  
TELEGRAM_MANAGER_CHAT_ID=${TELEGRAM_MANAGER_CHAT_ID:-}

# Список Telegram ID админов через запятую (для Admin Bot)
ADMIN_WHITELIST=${ADMIN_WHITELIST:-}

# ============================================
# URLS
# ============================================
FRONTEND_URL=http://94.241.141.194
CLOUDFLARE_TUNNEL_URL=
PUBLIC_URL=http://94.241.141.194

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_TO_FILE=true

# ============================================
# SENTRY ERROR TRACKING (Optional)
# ============================================
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================
# MONITORING (Optional)
# ============================================
ENABLE_METRICS=true
PROMETHEUS_PORT=9090
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
GRAFANA_PORT=3001

# ============================================
# HEALTH CHECKS
# ============================================
MEMORY_HEALTH_THRESHOLD=90
DISK_HEALTH_THRESHOLD=10
SHUTDOWN_TIMEOUT=10000

# ============================================
# TELEGRAM BOTS (Python)
# ============================================
# Customer Bot - токен для бота клиентов
# Если не указан, используется BOT_TOKEN
CUSTOMER_BOT_TOKEN=${CUSTOMER_BOT_TOKEN:-${BOT_TOKEN}}

# Admin Bot - отдельный токен для бота администраторов (опционально)
# Если не нужен отдельный бот - оставьте пустым
ADMIN_BOT_TOKEN=${ADMIN_BOT_TOKEN:-}

# URL для Bot API (внутренние docker адреса)
CUSTOMER_BOT_API_URL=http://customer-bot:8001
ADMIN_BOT_API_URL=http://admin-bot:8002

# ============================================
# ABANDONED CART BOT (Сервис напоминаний)
# ============================================
# Это НЕ отдельный Telegram бот, а фоновый сервис
# Он отправляет напоминания через Customer Bot
CART_CHECK_INTERVAL_MINUTES=60
REMINDER_DELAY_HOURS=2
MAX_REMINDERS=3
