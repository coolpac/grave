# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–°—Ö–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è SQLite:**
   - Decimal ‚Üí Float
   - Json ‚Üí String (JSON —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞)
   - Enum ‚Üí String (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –∫–æ–¥–µ)
   - BigInt ‚Üí String (–¥–ª—è telegramId)
   - @db.Text —É–±—Ä–∞–Ω

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞:**
   - –§–∞–π–ª `prisma/dev.db` —Å–æ–∑–¥–∞–Ω
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
   - Prisma Client –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

3. **–§–∞–π–ª .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   ```env
   DATABASE_URL="file:./dev.db"
   ```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö:
```bash
cd apps/api
npx prisma studio
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã:
```bash
npx prisma migrate dev --name –Ω–∞–∑–≤–∞–Ω–∏–µ_–º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma generate
```

### –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
rm prisma/dev.db
npx prisma migrate dev
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–§–∞–π–ª `dev.db` –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore** - –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ `provider` –≤ `schema.prisma` –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ `postgresql`
3. **JSON –ø–æ–ª—è** —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `JSON.parse()` –∏ `JSON.stringify()` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–∏–º–∏

## üìù –†–∞–±–æ—Ç–∞ —Å JSON –ø–æ–ª—è–º–∏:

–í –∫–æ–¥–µ –Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å JSON —Å—Ç—Ä–æ–∫–∏:

```typescript
// –ß—Ç–µ–Ω–∏–µ
const attributes = JSON.parse(variant.attributes as string);

// –ó–∞–ø–∏—Å—å
await prisma.productVariant.create({
  data: {
    attributes: JSON.stringify({ size: "300*300*15", grade: "1" }),
  },
});
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
pnpm dev:api
```

–í—Å–µ –æ—à–∏–±–∫–∏ TypeScript –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ IDE –∏–ª–∏ TypeScript —Å–µ—Ä–≤–µ—Ä–∞.

