# Создание тестовых товаров

Это руководство поможет вам создать тестовые товары на основе прайс-листов.

## Подготовка

1. **Убедитесь, что API сервер запущен:**
   ```bash
   cd apps/api
   pnpm dev:api
   ```

2. **Получите dev токен:**
   ```bash
   # Способ 1: Через браузер
   # Откройте: http://localhost:3000/api/auth/dev-token
   
   # Способ 2: Через curl
   curl http://localhost:3000/api/auth/dev-token
   ```

3. **Установите токен в переменную окружения:**
   ```bash
   export AUTH_TOKEN=ваш_токен_здесь
   ```

## Запуск скрипта

### Вариант 1: Используя npm скрипт (рекомендуется)

```bash
cd apps/api

# Сначала получите токен и установите его
export AUTH_TOKEN=$(curl -s http://localhost:3000/api/auth/dev-token | grep -o '"token":"[^"]*' | cut -d'"' -f4)

# Затем запустите скрипт
pnpm create:products
```

### Вариант 2: С указанием токена напрямую

```bash
cd apps/api
AUTH_TOKEN=ваш_токен pnpm create:products
```

### Вариант 3: Используя ts-node напрямую

```bash
cd apps/api
AUTH_TOKEN=ваш_токен npx ts-node scripts/create-test-products.ts
```

## Что создается

Скрипт создаст следующие товары:

1. **Вазы мраморные** (SINGLE_VARIANT)
   - 6 вариантов размеров: 200×110, 250×120, 300×120, 350×130, 400×130, 500×130
   - Цены: от 1000₽ до 2500₽

2. **Стела (полировка 4 стороны)** (SINGLE_VARIANT)
   - 16 вариантов размеров с весом
   - Цены: от 2100₽ до 7400₽

3. **Тумба (полировка 5 сторон)** (SINGLE_VARIANT)
   - 4 варианта размеров с весом
   - Цены: от 1800₽ до 2500₽

4. **Цветник (полировка 2х сторон)** (SIMPLE)
   - Простой товар без вариантов
   - Цена: 2000₽

5. **Комплекты ритуальные** (SINGLE_VARIANT)
   - 16 вариантов размеров с общим весом
   - Цены: от 5900₽ до 11900₽

## Структура

Все товары будут созданы в категории **"Ритуальные изделия"** (если её нет, она будет создана автоматически).

## Проверка

После запуска скрипта проверьте товары в админ-панели:
- Откройте: http://localhost:5174/products
- Войдите с dev токеном

## Добавление новых товаров

Чтобы добавить товары из следующего прайс-листа, отредактируйте файл `apps/api/scripts/create-test-products.ts` и добавьте новые вызовы `createProduct()`.

