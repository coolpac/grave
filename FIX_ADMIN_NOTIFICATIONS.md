# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "Chat not found"

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —á–∞—Ç `123456789`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ –±–æ—Ç–∞
- –¢–µ–ø–µ—Ä—å –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (`123456789`, `123456`, `0`)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ ID –∏–∑ `ADMIN_WHITELIST`

### 2. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /opt/ritual-app

# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
docker-compose -f docker-compose.production.yml exec admin-bot env | grep -E 'ADMIN|TELEGRAM'

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
docker-compose -f docker-compose.production.yml logs --tail=50 admin-bot | grep -E 'Admin whitelist|Admin IDs|Sending notification|sent|Failed'

# 3. –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
curl -X POST http://localhost:8002/notify/admin \
  -H "Content-Type: application/json" \
  -d '{
    "orderNumber": "TEST-'$(date +%s)'",
    "orderId": 999,
    "customerName": "–¢–µ—Å—Ç–æ–≤—ã–π –ö–ª–∏–µ–Ω—Ç",
    "customerPhone": "+79991234567",
    "items": "  ‚Ä¢ –¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä - 1 —à—Ç. √ó 1000 ‚ÇΩ",
    "total": 1000
  }'

# 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose -f docker-compose.production.yml logs -f admin-bot | grep -E 'Admin IDs|Sending|sent|Failed'
```

### 3. –í–∞–∂–Ω–æ: –ê–¥–º–∏–Ω—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å /start –±–æ—Ç—É!

**–ü–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–∞–∂–¥—ã–π –∞–¥–º–∏–Ω –¥–æ–ª–∂–µ–Ω:**

1. –ù–∞–π—Ç–∏ –∞–¥–º–∏–Ω –±–æ—Ç–∞ –≤ Telegram (–ø–æ —Ç–æ–∫–µ–Ω—É `ADMIN_BOT_TOKEN`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`
3. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–æ—Ç —Å–º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

**–ö–∞–∫ –Ω–∞–π—Ç–∏ –±–æ—Ç–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@BotFather` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–æ—Ç–µ
- –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –ø–æ username (–µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

```bash
# –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose -f docker-compose.production.yml logs --tail=100 admin-bot | grep -E 'Admin whitelist|Admin IDs to notify'

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# ‚úÖ Admin whitelist: ['150341162', '831469958']
# üìã Admin IDs to notify: [150341162, 831469958]
```

### 5. –ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ –µ—â–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–¥–º–∏–Ω—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ /start:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–æ–º–∞–Ω–¥—ã /start
   docker-compose -f docker-compose.production.yml logs admin-bot | grep -E 'start|/start'
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
   - –ù–∞–π–¥–∏—Ç–µ `@userinfobot`
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –µ—Å—Ç—å –≤ `ADMIN_WHITELIST`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏:**
   ```bash
   docker-compose -f docker-compose.production.yml logs --tail=100 admin-bot | grep -E 'Error|Failed|Forbidden'
   ```

## –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–∑ –ª–æ–≥–æ–≤):
- `ADMIN_WHITELIST=150341162,831469958` ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID)
- `ADMIN_CHAT_ID=123456789` ‚ùå (–¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)
- `TELEGRAM_MANAGER_CHAT_ID=123456789` ‚ùå (–¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –±–æ—Ç –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `ADMIN_WHITELIST` –∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.







